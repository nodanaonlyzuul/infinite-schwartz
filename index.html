<html>
  <head>

    <title>Infinite Schwartz</title>
    <meta name="description" content="Randomly assembled Jonathan Schwartz story that will go on forever."/>

    <meta property="og:image" content="http://nodanaonlyzuul.github.io/infinite-schwartz/assets/images/jonjon.jpg"/>
    <meta property="og:title" content="Infinate Schwartz"/>

    <style type="text/css" media="screen">

      body {
        margin: 0px;
        background-color: #2A3951;
        font-family: Garamond,Baskerville,"Baskerville Old Face","Hoefler Text","Times New Roman",serif
      }

      .whole-shebang {
        width: 100%;
      }

      .charlie-bg {
        width: 100%;
      }

      span.caption {
        position: absolute;
        margin-top: 5%;
        font-size: 66px;
        margin-left: 5%;
      }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="assets/js/buzz.min.js"></script>
    <script src="assets/js/underscore-min.js"></script>
  </head>

  <body>
    <div class="whole-shebang">
      <span class="caption">
        <div>
          Randomly Generated
        </div>

        <div>
           Jonathan Schwartz
        </div>

        <div>
           Pontification
        </div>
      </span>
      <img class="charlie-bg" src="assets/images/jonjon.jpg"></img>
    </div>

    <script>
      var soundArray = [
        new buzz.sound("assets/audio/1", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/2", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/3", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/6", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/7", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/8", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/9", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/10", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()}),
        new buzz.sound("assets/audio/11", {formats: ["ogg", "mp3"], preload: true}).bind('ended', function(e){shitShow()})
      ];

      function shitShow() {
        //rewind all sounds because each sound preserves its state
        _.map(soundArray, function(sound){sound.setTime(0)});
        setTimeout(500, _.shuffle(soundArray)[0].play())
      }

      $(function(){
        new buzz.sound("assets/audio/intro", {formats: ["ogg", "mp3"]}).bind('ended', function(e) {shitShow()}).play();
      })
    </script>
  </body>
</html>
